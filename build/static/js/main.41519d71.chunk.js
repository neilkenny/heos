(this["webpackJsonpheos-controller"]=this["webpackJsonpheos-controller"]||[]).push([[0],{110:function(e,t,n){e.exports=n(206)},202:function(e,t){},205:function(e,t,n){},206:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),i=n(10),c=n(12),s=n.n(c),u=n(4),l=n(5),E=n(6),p=n(7),d=n(9),m=n(109),f=(n(119),n(120),n(76)),S=n(50),O=f.a.Handle,P={width:"80%",margin:10},g=function(e){var t=e.value,n=e.dragging,a=e.index,r=Object(m.a)(e,["value","dragging","index"]);return o.a.createElement(S.a,{prefixCls:"rc-slider-tooltip",overlay:t,visible:n,placement:"top",key:a},o.a.createElement(O,Object.assign({value:t},r)))},v=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.onVolumeChanged=a.onVolumeChanged.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{style:P},o.a.createElement(f.a,{min:0,max:100,defaultValue:this.props.currentVolume,value:this.state.sliderPosition,handle:g,onChange:this.handleChange,onAfterChange:this.onVolumeChanged}))}},{key:"componentDidMount",value:function(){this.element=s.a.findDOMNode(this),this.element.addEventListener("mousedown",(function(){n.isMouseDown=!0})),this.element.addEventListener("mouseup",(function(){n.isMouseDown=!1}))}},{key:"onVolumeChanged",value:function(e){this.props.volumeChanged&&this.props.volumeChanged(e)}},{key:"handleChange",value:function(e){this.setState({sliderPosition:e})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return n.isMouseDown?{sliderPosition:t.sliderPosition}:{sliderPosition:e.currentVolume}}}]),n}(r.Component),h=Object(i.b)((function(e){return{}}))(v),_=n(8),y=n.n(_),T=n(106),b=n.n(T),R=function(){return a||(a=b()()),a},A=R(),C=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onVolumeChanged=a.onVolumeChanged.bind(Object(d.a)(a)),a}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return this.props.players.length?o.a.createElement("div",null,this.props.players.sort((function(e,t){return e.name>t.name?1:-1})).map((function(t){return o.a.createElement("div",{key:t.ip},o.a.createElement("p",null,t.name," - ",t.model," (",t.ip,")"),o.a.createElement(h,{currentVolume:t.volume,volumeChanged:function(n){return e.onVolumeChanged(t.pid,n)}}))}))):o.a.createElement("div",null,"Searching for HEOS devices...")}},{key:"onVolumeChanged",value:function(e,t){this.props.setVolume(e,t)}}]),n}(r.Component),G=Object(i.b)(null,(function(e){return{setVolume:function(t,n){return e(function(e,t){return function(n){t<=20&&A.emit(y.a.SET_VOLUME,e,t)}}(t,n))}}}))(C),j=R(),N=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onPlayersReceived=function(e){a.props.fetchPlayersResponse(e)},a.onPlayersReceived=a.onPlayersReceived.bind(Object(d.a)(a)),a.onPlayerVolumeChanged=a.onPlayerVolumeChanged.bind(Object(d.a)(a)),j.on(y.a.GET_PLAYERS_RESPONSE,a.onPlayersReceived),j.on(y.a.PLAYER_VOLUME_CHANGED,a.onPlayerVolumeChanged),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.requestPlayers()}},{key:"render",value:function(){return o.a.createElement(G,{players:this.props.players})}},{key:"onPlayerVolumeChanged",value:function(e,t){this.props.playerVolumeChanged(e,t)}}]),n}(r.Component),U=Object(i.b)((function(e){return{players:e.players}}),(function(e){return{requestPlayers:function(){return e((function(e){e({type:"GET_PLAYERS_REQUEST",waitingForPlayers:!0}),A.emit(y.a.GET_PLAYERS_REQUEST)}))},fetchPlayersResponse:function(t){return e({type:"GET_PLAYERS_RESPONSE",payload:t})},playerVolumeChanged:function(t,n){return e(function(e,t){return{type:"PLAYER_VOLUME_CHANGED",payload:{playerId:e,level:t}}}(t,n))}}}))(N),k=R(),L=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"song-details-container"},o.a.createElement("div",{className:"song-data"},o.a.createElement("div",{className:"title"},"Track:"),o.a.createElement("div",{className:"data",id:"track-title"},this.props.song.song)),o.a.createElement("div",{className:"song-data"},o.a.createElement("div",{className:"title"},"Album:"),o.a.createElement("div",{className:"data",id:"track-album"},this.props.song.album)),o.a.createElement("div",{className:"song-data"},o.a.createElement("div",{className:"title"},"Artist:"),o.a.createElement("div",{className:"data",id:"track-artist"},this.props.song.artist)))}}]),n}(r.Component),V=R(),D=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onTrackDetailsReceieved=function(e){a.props.getCurrentTrackResponse(e)},V.on(y.a.CURRENT_TRACK_DETAILS,a.onTrackDetailsReceieved),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getNowPlaying()}},{key:"render",value:function(){return o.a.createElement(L,{song:this.props.trackDetails})}}]),n}(r.Component),Y=Object(i.b)((function(e){return{trackDetails:e.track.nowPlaying}}),(function(e,t){return{getNowPlaying:function(){return e((function(e){e({type:"GET_NOW_PLAYING_REQUEST"}),k.emit(y.a.GET_NOW_PLAYING)}))},getCurrentTrackResponse:function(t){return e({type:"GET_NOW_PLAYING_RESPONSE",payload:t})}}}))(D),I=R(),w=R(),M=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).nextTrack=function(){a.props.nextTrack()},a.previousTrack=function(){a.props.previousTrack()},a.togglePlayPause=function(){a.props.togglePlayPause()},a.onPlayStateChanged=a.onPlayStateChanged.bind(Object(d.a)(a)),a.onPlayStateResponse=a.onPlayStateResponse.bind(Object(d.a)(a)),a.togglePlayPause=a.togglePlayPause.bind(Object(d.a)(a)),a.nextTrack=a.nextTrack.bind(Object(d.a)(a)),a.previousTrack=a.previousTrack.bind(Object(d.a)(a)),w.on(y.a.PLAY_STATE_RESPONSE,a.onPlayStateResponse),w.on(y.a.PLAY_STATE_CHANGED,a.onPlayStateChanged),a.requestPlayState(),a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"player-controls"},o.a.createElement("div",null,o.a.createElement("i",{className:"fas fa-5x fa-chevron-circle-left clickable",onClick:this.previousTrack}),o.a.createElement("i",{className:"fas fa-5x clickable "+("play"==this.props.playState?"fa-pause":"fa-play"),onClick:this.togglePlayPause}),o.a.createElement("i",{className:"fas fa-5x fa-chevron-circle-right clickable",onClick:this.nextTrack})))}},{key:"requestPlayState",value:function(){w.emit(y.a.PLAY_STATE_REQUEST)}},{key:"onPlayStateChanged",value:function(e){this.props.playStateChanged(e)}},{key:"onPlayStateResponse",value:function(e){this.props.playStateResponse(e)}}]),n}(r.Component),Q=Object(i.b)((function(e){return{playState:e.playState.playState}}),(function(e){return{playStateResponse:function(t){return e(function(e){return{type:"PLAY_STATE_RESPONSE",payload:e}}(t))},playStateChanged:function(t){return e(function(e){return{type:"PLAY_STATE_CHANGED",payload:e}}(t))},togglePlayPause:function(){return e((function(e){e({type:"TOGGLE_PLAY_PAUSE_REQUEST"}),I.emit(y.a.TOGGLE_PLAY_PAUSE)}))},nextTrack:function(){return e((function(e){e({type:"NEXT_TRACK_REQUEST"}),I.emit(y.a.NEXT_TRACK_REQUEST)}))},previousTrack:function(){return e((function(e){e({type:"PREVIOUS_TRACK_REQUEST"}),I.emit(y.a.PREVIOUS_TRACK_REQUEST)}))}}}))(M),x=(R(),function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).volumeUp=function(){alert("Volume Up")},a.volumeDown=function(){},a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"volume-controls"},o.a.createElement("i",{className:"fas fa-3x fa-chevron-up clickable",onClick:this.volumeUp}),o.a.createElement("div",{id:"current-volume-level",className:"volume-text"}),o.a.createElement("i",{className:"fas fa-3x fa-chevron-down clickable",onClick:this.volumeDown}))}}]),n}(r.Component)),H=(Object(i.b)((function(e){return{}}),(function(e){return{}}))(x),R()),K=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){console.log("GroupList Updated")}},{key:"render",value:function(){var e=this;return this.props.groups.length?o.a.createElement("div",null,this.props.groups.sort((function(e,t){return e.name>t.name?1:-1})).map((function(t){return o.a.createElement("div",{key:t.gid},o.a.createElement("p",null,t.name),o.a.createElement(h,{currentVolume:t.volume,volumeChanged:function(n){return e.onGroupVolumeChanged(t.gid,n)}}))}))):o.a.createElement("div",null,"Searching for Groups...")}},{key:"onGroupVolumeChanged",value:function(e,t){this.props.setGroupVolume(e,t)}}]),n}(r.Component),B=Object(i.b)(null,(function(e){return{setGroupVolume:function(t,n){return e(function(e,t){return function(n){n({type:"SET_GROUP_VOLUME"}),H.emit(y.a.SET_GROUP_VOLUME,e,t)}}(t,n))}}}))(K),W=R(),F=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onGroupsReceived=function(e){a.props.getGroupsResponse(e)},a.onGroupsReceived=a.onGroupsReceived.bind(Object(d.a)(a)),a.onGroupVolumeChanged=a.onGroupVolumeChanged.bind(Object(d.a)(a)),W.on(y.a.GET_GROUPS_RESPONSE,a.onGroupsReceived),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.getGroups()}},{key:"render",value:function(){return o.a.createElement(B,{groups:this.props.groups})}},{key:"onGroupVolumeChanged",value:function(e,t){this.props.groupVolumeChanged(e,t)}}]),n}(r.Component),q=Object(i.b)((function(e){return{groups:e.groups}}),(function(e){return{getGroups:function(){return e((function(e){e({type:"GET_GROUPS_REQUEST"}),H.emit(y.a.GET_GROUPS_REQUEST)}))},getGroupsResponse:function(t){return e(function(e){return{type:"GET_GROUPS_RESPONSE",payload:e}}(t))}}}))(F),X=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"left-pane"},o.a.createElement(q,null),o.a.createElement(U,null),o.a.createElement(Y,null),o.a.createElement("div",{className:"bottom-section"},o.a.createElement("div",{className:"bottom-controls"},o.a.createElement(Q,null))))}}]),n}(r.Component),J=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"image-container"},o.a.createElement("img",{id:"track-img",src:this.props.albumArtUrl}))}}]),n}(r.Component),z=Object(i.b)((function(e){return{albumArtUrl:e.track.nowPlaying.image_url}}))(J),Z=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"right-pane"},o.a.createElement(z,null))}}]),n}(r.Component),$=R(),ee=function(e){Object(p.a)(n,e);var t=Object(E.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).onSongProgressUpdated=a.onSongProgressUpdated.bind(Object(d.a)(a)),a.startProgressBar=a.startProgressBar.bind(Object(d.a)(a)),a.stopProgressBar=a.stopProgressBar.bind(Object(d.a)(a)),a.state={songPosition:void 0},$.on(y.a.PROGRESS_UPDATE,a.onSongProgressUpdated),a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"progress-container"},this.state.songPosition,o.a.createElement("progress",{id:"song-progress",value:this.state.songPosition,max:this.props.progress.duration}),this.props.progress.duration)}},{key:"componentDidUpdate",value:function(){"play"!=this.props.playState||this.isPlaying?"play"!=this.props.playState&&this.isPlaying&&this.stopProgressBar():this.startProgressBar()}},{key:"stopProgressBar",value:function(){clearInterval(this.intervalSubscription),this.isPlaying=!1}},{key:"startProgressBar",value:function(){var e=this;this.isPlaying=!0,this.intervalSubscription=setInterval((function(){e.state.songPosition&&e.setState({songPosition:e.state.songPosition+100})}),100)}},{key:"onSongProgressUpdated",value:function(e){n.lastRefreshed=new Date,console.log(e),this.props.updateProgress(e)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return n.lastRefreshed!=n.lastAccurateUpdate?(n.lastAccurateUpdate=n.lastRefreshed,{songPosition:e.progress.cur_pos}):{songPosition:t.songPosition}}}]),n}(r.Component),te=Object(i.b)((function(e){return{progress:e.progress.progress,playState:e.playState.playState}}),(function(e){return{updateProgress:function(t){return e(function(e){return{type:"SONG_PROGRESS_UPDATE",payload:e}}(t))}}}))(ee);var ne=function(){return o.a.createElement("div",{className:"container"},o.a.createElement(X,null),o.a.createElement(Z,null),o.a.createElement(te,null))},ae=(n(205),n(28)),re=n(107),oe=n(108),ie=n.n(oe),ce=n(43),se=n(25),ue=[],le={nowPlaying:{}},Ee={progress:{}},pe={playState:void 0},de=[],me=Object(ae.c)({players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PLAYERS_REQUEST":return Object(se.a)({},e);case"GET_PLAYERS_RESPONSE":return Object(ce.a)(t.payload);case"PLAYER_VOLUME_CHANGED":var n=e.find((function(e){return e.pid===t.payload.playerId}));return e.splice(e.indexOf(n),1),n.volume=t.payload.level,[].concat(Object(ce.a)(e),[n]).sort((function(e,t){return e.name>t.name?1:-1}));default:return e}},track:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_NOW_PLAYING_RESPONSE":return Object(se.a)({},e,{nowPlaying:t.payload});default:return e}},progress:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SONG_PROGRESS_UPDATE":return Object(se.a)({},e,{progress:t.payload});default:return e}},playState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLAY_STATE_RESPONSE":case"PLAY_STATE_CHANGED":return Object(se.a)({},e,{playState:t.payload});default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GROUPS_RESPONSE":return Object(ce.a)(t.payload);default:return e}}}),fe=Object(ae.d)(me,Object(ae.a)(ie.a,re.a));s.a.render(o.a.createElement(i.a,{store:fe},o.a.createElement(ne,null)),document.getElementById("root"))},8:function(e,t){e.exports={GET_PLAYERS_REQUEST:"GET_PLAYERS_REQUEST",GET_PLAYERS_RESPONSE:"GET_PLAYERS_RESPONSE",NEW_DEVICE_DISCOVERED:"NEW_DEVICE_DISCOVERED",GET_PLAYERS:"GET_PLAYERS",SUCCESSFUL_CONNECTION:"SUCCESSFUL_CONNECTION",GET_NOW_PLAYING:"GET_NOW_PLAYING",CURRENT_TRACK_DETAILS:"CURRENT_TRACK_DETAILS",TRACK_CHANGED:"TRACK_CHANGED",PROGRESS_UPDATE:"PROGRESS_UPDATE",PLAY_STATE_CHANGED:"PLAY_STATE_CHANGED",PLAY_STATE_REQUEST:"PLAY_STATE_REQUEST",PLAY_STATE_RESPONSE:"PLAY_STATE_RESPONSE",TOGGLE_PLAY_PAUSE:"TOGGLE_PLAY_PAUSE",NEXT_TRACK_REQUEST:"NEXT_TRACK_REQUEST",PREVIOUS_TRACK_REQUEST:"PREVIOUS_TRACK_REQUEST",GET_VOLUME:"GET_VOLUME",SET_VOLUME:"SET_VOLUME",PLAYER_VOLUME_CHANGED:"PLAYER_VOLUME_CHANGED",GET_GROUPS_REQUEST:"GET_GROUPS_REQUEST",GET_GROUPS_RESPONSE:"GET_GROUPS_RESPONSE",SET_GROUP_VOLUME:"SET_GROUP_VOLUME"}}},[[110,1,2]]]);
//# sourceMappingURL=main.41519d71.chunk.js.map